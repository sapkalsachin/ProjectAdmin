<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="../admin/custom/css/registerPage.css">

    <link rel="stylesheet" href="../admin/custom/css/bootstrap/bootstrap.min.css">

    <title>Alexis.com</title>
  </head>
  <body>

      <nav class="navbar navbar-dark bg-dark fixed-top">
          <div class="container-fluid">
            <div class="navbar-header">
              <a class="navbar-brand" href="#"><span style="color:red;"> <i class="fas fa-heartbeat"></i> Alexis.com </span>- Registration</a>
            </div>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="#" style="color: white;"><span  class="fas fa-sign-in-alt"></span><b> Login</b></a></li>
            </ul>
          </div>
      </nav>

    
      
    <div class="container well">
        <br><br><br>
        <div class="row" id="mainForm">
       
            <div class="col-md-6">

            <div class="form-group">  
                <label for="rescueType"><b>Select the rescue center :</b> </label>
                <select name="rescueType" class="form-control" id="rescueType" onchange="editName();">
                    <option>Hospital</option>
                    <option>Police Station</option>
                    <option>Civil Office</option>
                </select>
              </div>
             
              <div class="form-group">  
                <small class="err" id="rescueNameErr"></small> 
                <input type="text" placeholder="Enter Hospital Name" name="rescueName" class="form-control" id="rescueName">
              </div>
             
              <div class="input-group">
                  <small class="err" id="contactErr"></small> 
                  <input type="tel" placeholder="Mobile Number" maxlength="10" name="mobileNo" class="form-control" id="mobileNo">
                  <input autocomplete type="tel" placeholder="Telephone Number" size="10" name="contactNo" class="form-control" id="contactNo">
              </div>
              <br>

              <div class="form-group">
                <small class="err" id="addressErr"></small>  
                <input type="text" placeholder="Address" name="address" class="form-control" id="address">
              </div>
 

                <div class="form-group">  
                    <small class="err" id="cityErr"></small>  
                    <input type="text" placeholder="City" name="city" class="form-control" id="city">
                </div>

                
                <div class="form-group">
                    <small class="err" id="pincodeErr"></small>
                    <input type="text" pattern="[0-9]{4}" maxlength="6" placeholder="Pincode" name="pincode" class="form-control" id="pincode">
                </div>

                <!--Requires validation and filteration-->
                <div class="form-group">  
                    <small class="err" id="stateErr"></small>
                    <input type="text" pattern="[A-Z]" placeholder="State" name="state" class="form-control" id="state">
                </div>

            <!--LOCATION KA KAAM IDHAR SE HAI-->
                <label for="location"><b>Location :</b></label>
                <small class="err" id="locationErr"></small>
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text btn btn-primary" style="background-color: blue; color: #fff" onclick="getLocation()" id="location">Find Location</span>
                    </div>
                    <input type="text" class="form-control" style="background-color: #fff;" name="latitude" id="latitude" placeholder="latitude">
                    <input type="text" class="form-control" style="background-color: #fff;" name="longitude" id="longitude" placeholder="Longitude">
                </div>

                <div class="section">
                    <br>
                    <button class="btn btn-success btn-block" onclick="validateForm()">Submit</button>
                </div>
            </div>
            <div class="col-md-6 well">
                <br><br>
                <div class="row" id="map">
                    
                </div>
            </div>
        </div>

<!--DIALOGUE MODEL......................-->
    <p class="display-1 text-center" style="padding-top: 15%;" id="loader" hidden>
        <i class="fa fa-heartbeat" style=" font-size:200px; position: relative; top:40%; color:red"></i>
           <span id="message"> Registering
        <i class="fa fa-spinner fa-spin" style=""></i></span>
    </p>


    </div>
    





<!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script defer src="../admin/custom/js/fontAwesome/all.js"></script>
    <script src="../admin/custom/js/jquery/jquery.js"></script>
    <script src="../admin/custom/js/popper/popper.min.js"></script>
    <script src="../admin/custom/js/bootstrap/bootstrap.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD-T_nIRGhX2QPlgkOM5xmocn94qIDOgz0"></script>
    <script src="../admin/custom/js/register.js"></script>
    
<!--Script for geolocation Coordinates-->
<script>
    var x = document.getElementById("latitude");
    var y = document.getElementById("longitude");
    
    function getLocation() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showPosition);
        } else { 
            alert("Geolocation is not supported by this browser. Kindly use different browser...");
        }
    }
    
    function showPosition(position) {
        x.value = position.coords.latitude; 
        y.value = position.coords.longitude;
        myMap(x.value, y.value);
    }
    function myMap(x,y) {
      var myCenter = new google.maps.LatLng(x,y)
  var mapCanvas = document.getElementById("map");
  var mapOptions = {center: myCenter, zoom: 17};
  var map = new google.maps.Map(mapCanvas, mapOptions);
  var marker = new google.maps.Marker({position:myCenter});
  marker.setMap(map);    }


  //EDITING NAME FOR SELECT OPTION
        function editName(){
            var name = document.getElementById("rescueType");
            var rescueName = document.getElementById("rescueName");
            if(name.value == "Police Station")
            {
                rescueName.placeholder = "Enter police station branch name"
            }
            else if(name.value = "Hospital")
            {
                rescueName.placeholder = "Enter hospital name"
            }
            else if(name.value = "Civil Office"){
                rescueName.placeholder = "Enter office branch"
            }else(
                alert("Please select one option")
            )
        }

  
    </script>


  
  </body>
</html>